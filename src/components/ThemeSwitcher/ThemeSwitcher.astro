---
import Block from "../common/Block.astro";
import YellowButton from "./YellowButton.astro";
import BlueButton from "./BlueButton.astro";
import PinkButton from "./PinkButton.astro";
---

<div class="theme-switcher-container">
	<div class="theme-switcher">
		<button
			aria-label="Yellow theme"
			class="theme-btn theme-yellow"
			onclick="window.setTheme && window.setTheme('yellow')">
			<YellowButton />
		</button>
		<button
			aria-label="Blue theme"
			class="theme-btn theme-blue"
			onclick="window.setTheme && window.setTheme('blue')">
			<BlueButton />
		</button>
		<button
			aria-label="Pink theme"
			class="theme-btn theme-pink"
			onclick="window.setTheme && window.setTheme('pink')">
			<PinkButton />
		</button>
	</div>

	<script is:inline>
		window.setTheme = function (theme) {
			document.documentElement.setAttribute("data-theme", theme);
			localStorage.setItem("theme", theme);
		};
		// On load, set theme from localStorage if available
		const saved = localStorage.getItem("theme");
		if (saved) document.documentElement.setAttribute("data-theme", saved);
	</script>
	<style>
		.theme-switcher-container {
			width: 100%;
			padding: var(--default-layout-gap) 0;
			background: var(--background-content);
			border-radius: var(--radii-10);
			padding: var(--default-layout-gap) var(--default-layout-gap);
		}
		.theme-switcher {
			display: flex;
			width: 100%;
			gap: var(--default-layout-gap);
			justify-content: space-between;
			align-items: center;
		}
		.theme-btn {
			background: none;
			border: none;
			cursor: pointer;
			transition: transform 0.1s;
			padding: 0;
			width: 30%;
			height: 120px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.theme-btn:hover {
			transform: scale(1.1);
		}

		@media (max-width: 900px) {
			.theme-switcher-container {
				border-radius: var(--radii-10);
				padding: 10px;
			}

			.theme-btn {
				height: 48px;
			}
		}
	</style>
</div>
